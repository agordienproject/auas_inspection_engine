program:
  name: "camera_gantry_table_xarm"
  description: "Test to use all systems together: gantry, camera, table and xarm"
  
  stages:
    - stage: 1
      name: "initialization"
      together: true
      pause: true
      steps:
        - step: 1
          name: "gantry-load"
          system: "gantry"
          action: "load_and_run"
          program_name: "simpheenenweer.xml"
        - step: 2
          name: "initialize_xarm"
          system: "xarm"
          action: "move_to_position"
          x: 220.8
          y: -161.6
          z: 215.7
          roll: -179
          pitch: -54.8
          yaw: -35.7
    - stage: 2
      name: "take_video"
      together: true
      pause: true
      steps:
        - step: 1
          name: "camera_video"
          system: "camera"
          action: "record_video"
          parameters:
            duration: 10
            fps: 30
            quality: "medium"
            codec: "mp4v"
        - step: 1
          name: "start_rotation"
          system: "table"
          action: "rotate"
          duration: 10
    - stage: 3
      name: "cleanup"
      together: true
      steps:
        - step: 1
          name: "move_xarm_home"
          system: "xarm"
          action: "home"
