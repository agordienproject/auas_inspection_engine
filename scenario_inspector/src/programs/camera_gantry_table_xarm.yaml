program:
  name: "camera_gantry_table_xarm"
  description: "Test to use all systems together: gantry, camera, table and xarm"
  
  stages:
    - stage: 1
      name: "initialization"
      together: true    
      steps:
        - step: 1
          name: "initialize_camera"
          system: "camera"
          action: "initialize_camera"
          ready_timeout: 15
        - step: 2
          name: "initialize_xarm"
          system: "xarm"
          action: "move_to_position"
          x: 220.8
          y: -161.6
          z: 215.7
          roll: -179
          pitch: -54.8
          yaw: -35.7
    - stage: 2
      name: "all_running_together"
      together: true        
      steps:
        - step: 1
          name: "camera_video"
          system: "camera"
          action: "take_video"
          recording_time: 20
          saving_file: true
        - step: 2
          name: "gantry-load"
          system: "gantry"
          action: "load_and_run"
          program_name: "simpheenenweer.xml"
        - step: 3
          name: "start_rotation"
          system: "table"
          action: "rotate"
          duration: 20
    - stage: 3
      name: "cleanup"
      together: true
      steps:
        - step: 1
          name: "stop_camera"
          system: "camera"
          action: "stop_camera"
        - step: 2
          name: "move_xarm_home"
          system: "xarm"
          action: "home"
